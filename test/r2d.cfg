process R2D = {
       source = PoolSource { untracked vstring fileNames = {'file:raw.root' } }

      
      es_source = PoolDBESSource { 
                      VPSet toGet = {
                        { string record = "RPCReadOutMappingRcd"
                          string tag = "RPCReadOutMapping_v1"
                        } 
                      }
                      bool loadAll = true
                      string timetype = "runnumber" 
		          string connect = "sqlite_file:cabling-MTCC-2-2tb-v2.db"
                      untracked string catalog = "file:cablingCatalog.xml"
                    }

	module rpcunpacker = RPCUnpackingModule{
           untracked bool PrintOut = true  
           untracked bool runDQM = false
	     untracked bool DQMSaveRootFile = false 
	     untracked int32 EventsIntervalForRootFile = 5
	     untracked string RootFileName ="RPCMonitorModule.root"

	}
	

     include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
     include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
     include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

	service = MessageLogger {
    		untracked vstring destinations = {"r2d.log"}
            untracked PSet r2d.log = { untracked string threshold = "DEBUG"}
            untracked vstring debugModules = { "rpcunpacker"}
#            untracked vstring destinations = {"cout"} 
       }

       module out = PoolOutputModule {
               untracked string fileName ="digis.root"
               untracked vstring outputCommands = { "keep *", "drop *_source_*_*" }
        }
	
	path p = {rpcunpacker} 
	endpath e = {out }
}
